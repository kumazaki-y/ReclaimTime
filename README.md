# Task-Memo

スキル向上を目的にポートフォリオとしてタスク管理アプリを作成しました。

シングルページアプリケーション (SPA) として主に下記の構成で作成しています。

- フロントエンドは **TypeScript / React**
- バックエンドは **Ruby on Rails**
- インフラは **Vercel (静的サイト) / AWS(API)**
- モノレポ構成
- バックエンドとフロントエンドの開発環境は両方ともDockerを使用
詳細は後述の「開発環境 (フロントエンド)」「開発環境 (バックエンド)」「本番環境」をご覧ください。

## 目次

- [機能](#機能)
- [開発環境 (フロントエンド)](#開発環境-フロントエンド)
- [開発環境 (バックエンド)](#開発環境-バックエンド)
- [本番環境](#本番環境)
  - [インフラ構成図](#インフラ構成図)
- [ER図](#er図)
- [使用技術 (フロントエンド)](#使用技術-フロントエンド)
- [使用技術 (バックエンド)](#使用技術-バックエンド)
- [使用技術 (その他)](#使用技術-その他)
- [画面](#画面)

## 画面

- ホーム
- ログイン
- ユーザー登録
- メールアドレス認証
  - 認証確認通知
  - 認証用メール
  - 未認証警告+再送信ボタン
- パスワードリセット
  - 再設定リクエスト
  - 再設定用メール
  - 再設定画面
- ボードCRUD
- タスクCRUD
- 検索
- 絞り込み
- 並び替え

## 機能

### 認証
- ユーザー登録
- メールアドレス認証
  - 認証メール再送信
  - 未認証ユーザー削除 (定期処理)
- ログイン / ログアウト
  - Cookie / セッション
- ゲストユーザーログイン
- パスワードリセット
  - リセットメール認証

### タスク管理
- 作成 / 表示 / 更新 / 削除
- ボード（タスクグループ） 作成 / 表示 / 更新 / 削除
- タスク(各ボードに紐づく) 作成 / 表示 / 更新 / 削除
- 検索
- 絞り込み
- 並び替え    
  - ドラッグ&ドロップ  
  - 状態保持
- ページネーション

## 開発環境 (フロントエンド)
フロントエンドにはTypeScriptとReactを採用しています。

TypeScriptを使用することで型安全性が強化され、開発効率とコードの可読性が向上しています。

ビルドツールにはViteを使用しており、迅速なビルドとホットリロードによって開発体験が快適になります。

実行環境のバージョン:

- Vite: 5.4.8
- Yarn: 1.22.22
- Node.js: v20.16.0
- TypeScript: 5.6.2
- React: 18
ブラウザにはChrome (Mac) を使用しています。

## 開発環境 (バックエンド)

バックエンドにはRuby on Railsを使用して、以下の構成で統合開発環境を整えています。
メール送信にはActionMailerを使用し、自分が所有しているgmailから送信テストを実行。

- Ruby (3.3.4)
- Ruby on Rails (7.1.3.4)
- MySQL (8.0.40)


## 本番環境

フロントエンドで生成された静的ファイルのホスティングには、Vercelを採用しました。バックエンドAPIの実行にはAWS Lambdaを利用しています。各サービスの役割は以下の通りです。

- **Vercel** - 静的ファイルホスティング
- **CloudFormation** - AWSリソースの構成管理
- **Certificate Manager** - SSL/TLS 証明書発行 (API用カスタムドメイン)
- **API Gateway** - API (Lambda) アクセス
- **Lambda** - サーバーレスコンピューティング (Railsアプリの実行)
- **VPC** - 仮想ネットワーク構成
- **VPC Endpoint** - VPC内外のプライベート接続
- **RDS (MariaDB 10.4.13)** - RDB
- **DynamoDB** - キャッシュ、セッションストア
- **S3** - アセットストア
- **Amazon SES (SMTPインターフェイス)** - カスタムドメインのメール送信
- **IAM (ユーザー、ロール、ポリシー)** - アクセス管理
- **Systems Manager (パラメータストア)** - 機密情報の保管
- **CloudWatch (ログ、イベント)** - ログ管理、Lambda関数のトリガー (Cron)

## インフラ構成図

アプリケーションの基本的な処理の流れは以下の通りです。

1. ユーザーはVercelにデプロイされたURLからアプリケーションにアクセスします。
2. APIが必要なリクエストは、API Gatewayに送信されます。
3. API Gatewayを経由して、Lambda関数が呼び出され、以下の処理を行います。
   - Cookieの設定やDynamoDBによるセッション管理
   - データベースからのデータ取得や更新
   - 必要に応じてユーザーへのメール送信
   - CloudWatchへのログ保存

以下の図は、この処理の流れを表したものです。

